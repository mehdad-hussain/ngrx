<div class="">
  <div
    class="relative flex flex-col w-full min-w-0 mb-6 break-words rounded shadow-lg bg-sky-900"
    [ngClass]="classNames(tableContainerClass)"
  >
    <!-- section: Table Container Heading -->
    <div class="px-4 py-3 mb-0 border-0 rounded-t">
      <div class="flex flex-wrap items-center">
        <div class="relative flex-1 flex-grow w-full max-w-full px-4">
          <h3 class="text-lg font-semibold">
            {{ tableName }}
          </h3>
        </div>
      </div>
    </div>

    <!-- section: Main Table -->
    <div class="block w-full overflow-x-auto min-h-[28rem]">
      <table
        class="items-center w-full bg-transparent border-collapse table-auto"
        [ngClass]="classNames(tableBodyClass)"
      >
        <!-- section: TABLE HEAD NG FOR LOOP -->
        <thead>
          <tr>
            <ng-container *ngFor="let column of sortedColumns">
              <th
                class="px-6 py-3 align-middle border border-l-0 border-r-0 border-solid"
                [ngClass]="classNames(tableHeaderClass)"
              >
                <button
                  [disabled]="!column.sortable"
                  (click)="onSortChange(column.name)"
                  type="button"
                  class="flex items-center space-x-1 text-xs font-bold text-left uppercase whitespace-nowrap"
                >
                  <p>{{ column.name }}</p>
                  <!-- section: SORTING ICONS -->

                  <!-- section: default view icons if that column is sortable -->
                  <fa-icon
                    *ngIf="column.sortable && column.sort === 'none'"
                    [icon]="faSort"
                    [classes]="[' w-3.5 h-3.5']"
                    ngClass="{{ '' }}"
                  ></fa-icon>
                  <!-- section: sort icons -->
                  <fa-icon
                    *ngIf="column.sortable && column.sort !== 'none'"
                    [icon]="
                      column.sort === 'sort-down'
                        ? faArrowDownWideShort
                        : faArrowUpWideShort
                    "
                    [classes]="[' w-3.5 h-3.5 text-blue-600']"
                    ngClass="{{ '' }}"
                  ></fa-icon>
                </button>
              </th>
            </ng-container>
            <!-- section: ACTION HEADER for ACTION COLUMN -->
            <th
              class="px-6 py-3 text-xs font-bold text-left text-black uppercase align-middle border-solid bg-gray-700/30 whitespace-nowrap"
              *ngIf="actions && actions.length"
            >
              ACTIONS
            </th>
          </tr>
        </thead>
        <!-- section: TABLE BODY -->
        <tbody class="even-child:bg-gray-300/50">
          <!-- <ng-content select="[tbody]"></ng-content> -->
          <ng-container *ngFor="let row of sortedRows">
            <tr
              class="border-b border-gray-500 child:truncate child:py-2.5 child:px-6 child:text-xs child:align-middle child:border-t-0 child:border-l-0 child:border-r-0 child:whitespace-nowrap"
            >
              <!-- section: TABLE DATA with NG FOR LOOP for every single row -->
              <ng-container
                *ngFor="
                  let cell of row | keyvalue: pipeSortFunction;
                  let i = index
                "
              >
                <td>
                  <!-- {{ cell.value }} -->
                  {{ cell.value | joinObjectValues }}
                </td>
              </ng-container>
              <!-- section: ACTIONS BUTTONS -->
              <td
                *ngIf="actions && actions.length"
                class="flex justify-around space-x-2"
              >
                <ng-container *ngFor="let action of actions">
                  <button (click)="onclick(row?.id)">
                    <fa-icon
                      [icon]="
                        action === 'Edit'
                          ? faPenToSquare
                          : action === 'Delete'
                          ? faTrash
                          : faEye
                      "
                      [classes]="['w-4 h-4']"
                      ngClass="{{
                        action === 'Delete'
                          ? 'text-red-500'
                          : action === 'Edit'
                          ? 'text-yellow-500'
                          : 'text-blue-500'
                      }}"
                    ></fa-icon>
                  </button>
                </ng-container>
              </td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>
</div>
